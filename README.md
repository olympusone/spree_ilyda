# SpreeIlyda

[![Maintainability](https://api.codeclimate.com/v1/badges/f05698ea99a9753420ee/maintainability)](https://codeclimate.com/github/olympusone/spree_ilyda/maintainability)

Connect Ilyda System to your Spree Commerce.

## Installation

1. For the tiny_tds gem that is required for the spree_ilyda, the native extensions are interfaces to the FreeTDS library, which is a set of libraries that allow your programs to talk to Microsoft SQL Server and Sybase databases.

Install FreeTDS: You need to install FreeTDS on your system. Depending on your system, the installation commands will be different:

On Debian-based Linux (including Ubuntu):

```shell
sudo apt-get install freetds-dev
```
On Red Hat-based Linux (including Fedora, CentOS, or Rocky Linux):

```shell
sudo yum install freetds-devel
```
On macOS, you can use Homebrew:

```shell
brew install freetds
```

Install the Ruby development headers: If you're on a Linux system, you might also need to install the Ruby development headers. For example, on a Debian-based system, you can do this with:

```shell
sudo apt-get install ruby-dev
```

2. Add this extension to your Gemfile with this line:

    ```ruby
    gem 'spree_ilyda'
    ```

3. Install the gem using Bundler

    ```ruby
    bundle install
    ```

4. Copy & run migrations

    ```ruby
    bundle exec rails g spree_ilyda:install
    ```

5. Declare the ilyda remote database into database.yml file.
   
   ```yml
    ilyda:
        adapter: sqlserver
        host: ilyda_host
        port: ilyda_port
        username: ilyda_username
        password: ilyda_password
        database: ilyda_database
   ```

6. Restart your server

  If your server was running, restart it so that it can find the assets properly.

## Testing

First bundle your dependencies, then run `rake`. `rake` will default to building the dummy app if it does not exist, then it will run specs. The dummy app can be regenerated by using `rake test_app`.

```shell
bundle
bundle exec rake
```

When testing your applications integration with this extension you may use it's factories.
Simply add this require statement to your spec_helper:

```ruby
require 'spree_ilyda/factories'
```

## Releasing

```shell
bundle exec gem bump -p -t
bundle exec gem release
```

For more options please see [gem-release REAMDE](https://github.com/svenfuchs/gem-release)

## Contributing

If you'd like to contribute, please take a look at the
[instructions](CONTRIBUTING.md) for installing dependencies and crafting a good
pull request.

Copyright (c) 2023 OlympusOne, released under the New BSD License
